# Environment Configuration for RootOps

# Service Configuration
SERVICE_NAME=RootOps Intelligence Engine
VERSION=1.0.0
LOG_LEVEL=INFO

# Database
DATABASE_URL=postgresql://rootops:rootops@postgres:5432/rootops

# ===== GITHUB INTEGRATION (REQUIRED) =====
# Get a personal access token from https://github.com/settings/tokens
# Required scopes: repo (read-only access to commits)
GITHUB_TOKEN=ghp_your_personal_access_token_here
GITHUB_REPO=owner/repository  # e.g., "microsoft/vscode"

# Redis (Optional)
# REDIS_URL=redis://redis:6379

# ===== OBSERVABILITY INTEGRATIONS (OPTIONAL) =====
# RootOps auto-detects and gracefully degrades if not available
LOKI_URL=http://loki:3100
PROMETHEUS_URL=http://prometheus:9090
TEMPO_URL=http://tempo:3200

# ===== AUTO-POLLING (ZERO-CONFIG MODE) =====
# Background workers that continuously monitor without manual API calls
ENABLE_AUTO_POLLING=true
POLL_GITHUB_INTERVAL_SECONDS=300  # Poll GitHub every 5 minutes
POLL_LOGS_INTERVAL_SECONDS=120    # Monitor logs every 2 minutes
AUTO_ANALYZE_NEW_COMMITS=true     # Automatically analyze new commits

# ===== INTELLIGENCE ENGINE =====
# Continuous learning and long-term memory
ENABLE_CONTINUOUS_LEARNING=true
MEMORY_RETENTION_DAYS=365
PATTERN_CONFIDENCE_THRESHOLD=0.7
MIN_SIMILAR_INCIDENTS=3

# ===== FEATURE FLAGS =====
ENABLE_BREAKING_CHANGE_DETECTION=true
ENABLE_ANOMALY_DETECTION=true
ENABLE_PERFORMANCE_PREDICTION=true
ENABLE_LLM_ENRICHMENT=false

# ===== LLM CONFIGURATION (OPTIONAL) =====
# For semantic analysis - disabled by default for security
LLM_MODE=metadata_only  # disabled | metadata_only | local | hybrid
SEND_CODE_TO_LLM=false  # Hard stop on sending actual code
# CLAUDE_API_KEY=your-api-key-here
# CLAUDE_MODEL=claude-sonnet-4-20250514
# CLAUDE_MAX_TOKENS=4096

# Analysis Thresholds
BREAKING_CHANGE_THRESHOLD=0.7
ANOMALY_THRESHOLD=0.8
PERFORMANCE_DEGRADATION_THRESHOLD=0.15

# Advanced Options
ALLOW_DB_INIT_FAILURE=false

